{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "description": "Universal mise tooling preset - conservative updates for all tool versions",
  "packageRules": [
    {
      "description": "Pin critical infrastructure tools for stability",
      "matchManagers": [
        "mise"
      ],
      "matchPackageNames": [
        "terraform",
        "opentofu",
        "packer",
        "ansible",
        "ansible-core",
        "kubectl",
        "helm"
      ],
      "rangeStrategy": "pin",
      "schedule": [
        "before 5am on Monday"
      ],
      "groupName": "mise: Infrastructure Tools"
    },
    {
      "description": "Pin Python runtime versions",
      "matchManagers": [
        "mise"
      ],
      "rangeStrategy": "pin",
      "schedule": [
        "before 5am on Monday"
      ],
      "groupName": "mise: Python Runtime",
      "matchPackageNames": [
        "/^python$/",
        "/^python@/"
      ]
    },
    {
      "description": "Pin Node.js runtime versions",
      "matchManagers": [
        "mise"
      ],
      "rangeStrategy": "pin",
      "schedule": [
        "before 5am on Monday"
      ],
      "groupName": "mise: Node.js Runtime",
      "matchPackageNames": [
        "/^node$/",
        "/^nodejs$/"
      ]
    },
    {
      "description": "Auto-update utility tools (patch only)",
      "matchManagers": [
        "mise"
      ],
      "matchUpdateTypes": [
        "patch",
        "minor"
      ],
      "automerge": true,
      "automergeType": "branch",
      "matchPackageNames": [
        "!terraform",
        "!opentofu",
        "!packer",
        "!ansible",
        "!ansible-core",
        "!kubectl",
        "!helm",
        "!/^python/",
        "!/^node/"
      ]
    },
    {
      "description": "Require approval for critical tool major updates",
      "matchManagers": [
        "mise"
      ],
      "matchPackageNames": [
        "terraform",
        "opentofu",
        "packer",
        "ansible",
        "ansible-core",
        "python",
        "node",
        "kubectl",
        "helm"
      ],
      "matchUpdateTypes": [
        "major"
      ],
      "dependencyDashboardApproval": true
    },
    {
      "description": "Label mise tool updates",
      "matchManagers": [
        "mise"
      ],
      "addLabels": [
        "mise",
        "tooling"
      ]
    }
  ]
}
