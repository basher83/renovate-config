{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "description": "Python MCP project preset - extends python.json with Python 3.14 blocking due to MCP SDK incompatibility",
  "extends": [
    "local>basher83/renovate-config:python",
    "helpers:pinGitHubActionDigests"
  ],
  "packageRules": [
    {
      "description": "Cap Python to 3.13.x (3.14 MCP SDK incompatibility)",
      "matchPackageNames": ["python"],
      "matchDatasources": ["docker", "github-tags"],
      "allowedVersions": "<=3.13"
    },
    {
      "description": "Pin actions/setup-python to 3.13.x maximum",
      "matchManagers": ["github-actions"],
      "matchPackageNames": ["actions/setup-python"],
      "matchFileNames": [".github/workflows/**"],
      "allowedVersions": "3.13.x"
    },
    {
      "description": "Block Python 3.14+ updates until MCP SDK compatibility confirmed",
      "matchPackageNames": ["python", "actions/setup-python"],
      "matchCurrentVersion": ">=3.14.0",
      "enabled": false
    },
    {
      "description": "Require approval for major MCP updates",
      "matchPackageNames": ["mcp"],
      "matchUpdateTypes": ["major"],
      "dependencyDashboardApproval": true
    },
    {
      "description": "Require approval for major Zammad API updates",
      "matchPackageNames": ["zammad-py"],
      "matchUpdateTypes": ["major"],
      "dependencyDashboardApproval": true
    },
    {
      "description": "Pin Python version for Actions",
      "matchManagers": ["github-actions"],
      "matchPackageNames": ["actions/setup-python"],
      "rangeStrategy": "pin"
    },
    {
      "description": "Auto-update GitHub Actions digests",
      "matchManagers": ["github-actions"],
      "digest": {
        "automerge": true
      },
      "commitMessageTopic": "{{depName}} digest to {{newDigestShort}}",
      "commitMessageExtra": "({{currentValue}})"
    }
  ]
}
